<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


<h:head>
	<meta charset="UTF-8" />
	<title>Gestão de Empresas</title>
	<h:outputStylesheet library="minierp" name="estilo.css" />
	<f:metadata>
		<!-- Chama um método dentro do ManagedBean -->
		<f:viewAction action="#{gestaoEmpresasBean.todasEmpresas}"></f:viewAction>
	</f:metadata>
</h:head>

<h:body>
	<!-- Texto de verificação -->
<!-- 	<h:outputText value="JSF funcionando corretamente!" /> -->

	<header>
		<!-- Exibe a logo -->
		<h:graphicImage library="minierp" name="logo.png" />
	</header>
	<h2>Cadastro de empresas</h2>
	<!-- Conteúdo principal da página -->
	<div id="conteudo">
	<!-- Listagem de dados dataTable -->
		<!-- Value vou vincular o meu managedBean com uma propriedade que me tras o propriedades empresas -->
		<!-- Criando uma variavel para cada item na lista ele coloca na variavel empresa -->
		<p:dataTable value="#{gestaoEmpresasBean.listaEmpresas}"
			var="empresa" emptyMessage="Nenhum dado informado">
			
			<p:column headerText="Razão social">
				<h:outputText value="#{empresa.razaoSocial}"/>
			</p:column>
			
			<p:column headerText="Nome Fantasia">
				<h:outputText value="#{empresa.nomeFantasia}"/>
			</p:column>
			
			<p:column headerText="Tipo empresa">
				<h:outputText value="#{empresa.tipo}"/>
			</p:column>
			
			<p:column headerText="Ramo Atividade">
				<h:outputText value="#{empresa.ramoAtividade.descricao}"/>
			</p:column>
		</p:dataTable>
		
	</div>

	<footer>
		<p>JSF e PrimeFaces Essencial - Mini ERP Empresas</p>
	</footer>
</h:body>
</html>
