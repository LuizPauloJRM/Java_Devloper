<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <meta charset="UTF-8"/>
    <title>Gestão de Empresas</title>
    <h:outputStylesheet library="minierp" name="estilo.css"/>
</h:head>

<h:body>
    <!-- Texto de verificação -->
    <h:outputText value="JSF funcionando corretamente!" />

    <header>
        <!-- Exibe a logo -->
        <h:graphicImage library="minierp" name="logo.png"/>
    </header>

    <div id="conteudo">
        <!-- Formulário principal -->
        <h:form>
            <h:panelGrid columns="2" cellpadding="5">

                <!-- Campo: Razão Social -->
                <h:outputLabel value="Razão Social" for="razaoSocial"/>
                <h:panelGroup>
                    <h:inputText id="razaoSocial" value="#{gestaoEmpresasBean.empresa.razaoSocial}" required="true"/>
                    <h:message for="razaoSocial"/>
                </h:panelGroup>

                <!-- Campo: Nome Fantasia -->
                <h:outputLabel value="Nome Fantasia" for="nomeFantasia"/>
                <h:inputText id="nomeFantasia" value="#{gestaoEmpresasBean.empresa.nomeFantasia}"/>

                <!-- Campo: Tipo de Empresa -->
                <h:outputLabel value="Tipo de Empresa" for="tipo"/>
                <h:panelGroup>
                    <h:selectOneMenu id="tipo" value="#{gestaoEmpresasBean.empresa.tipo}">
                        <f:selectItem itemLabel="Selecione"/>
                        <f:selectItems value="#{gestaoEmpresasBean.tiposEmpresa}"
                                       var="tipoEmpresa"
                                       itemLabel="#{tipoEmpresa.descricao}"
                                       itemValue="#{tipoEmpresa}"/>
                    </h:selectOneMenu>
                    <h:message for="tipo"/>
                </h:panelGroup>

                <!-- Campo: CNPJ -->
                <h:outputLabel value="CNPJ" for="cnpj"/>
                <h:panelGroup>
                    <h:inputText id="cnpj" value="#{gestaoEmpresasBean.empresa.cnpj}" label="CNPJ">
                        <f:validateLength minimum="18" maximum="18"/>
                    </h:inputText>
                    <h:message for="cnpj"/>
                </h:panelGroup>

                <!-- Campo: Data de Fundação -->
                <h:outputLabel value="Data Fundação" for="dataFundacao"/>
                <h:panelGroup>
                    <h:inputText id="dataFundacao" value="#{gestaoEmpresasBean.empresa.dataFundacao}" label="Data Fundação">
                        <f:convertDateTime pattern="dd/MM/yyyy" type="localDate"/>
                    </h:inputText>
                    <h:message for="dataFundacao"/>
                </h:panelGroup>

                <!-- Campo: Faturamento -->
                <h:outputLabel value="Faturamento" for="faturamento"/>
                <h:panelGroup>
                    <h:inputText id="faturamento" value="#{gestaoEmpresasBean.empresa.faturamento}" label="Faturamento">
                        <f:convertNumber pattern="#,##0.00"/>
                        <f:validateDoubleRange minimum="0"/>
                    </h:inputText>
                    <h:message for="faturamento"/>
                </h:panelGroup>

                <!-- Botão Salvar -->
                <h:outputLabel/>
                <h:commandButton value="Salvar" actionListener="#{gestaoEmpresasBean.salvar}"/>

                <!-- Link para página de ajuda -->
                <h:outputLabel/>
                <h:commandLink value="Precisa de ajuda?" action="#{gestaoEmpresasBean.ajuda}"/>
            </h:panelGrid>
        </h:form>
    </div>

    <footer>
        <p>JSF e PrimeFaces Essencial - Mini ERP Empresas</p>
    </footer>
</h:body>
</html>
